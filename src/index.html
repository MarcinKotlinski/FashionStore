<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fashion Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="css/main.css"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
</head>
<body>
<div id="wrapper">
    @@include('./template/header.html')
    @@include('./template/main.html')
    @@include('./template/footer.html')
</div>
<script src="js/main.js"></script>
<script>
    function slideGallery() {
        var slideGallery = document.querySelector('.component-slider'); // slider div container
        var slidesList = slideGallery.querySelector('.mask ul'); // slides ul list
        var slideItems = slideGallery.querySelectorAll('.mask ul li'); // slides li elements
        var slidesNumber = slideItems.length;
        var slidesWidth = slideItems[0].offsetWidth; // getting width by first element
        var currentSlide = 0; // active slide indicator

        // lets set our slides ul width by slides number;
        var slidesListWidth = slidesWidth * slidesNumber;
        slidesList.style.width = slidesListWidth + "px";

        // default state, slide[0] active;
        setPosition();
        //autoSlide();
        delay();

        // slide to next
        function slideLeft() {
            if (currentSlide < slidesNumber - 1) { // -1 cause our first element has index [0]
                currentSlide++;
            }
            else {
                currentSlide = 0;
            }
            setPosition();
        }

        // slide to prev
        function slideRight() {
            if (currentSlide !== 0) {
                currentSlide--;
            }
            else {
                currentSlide = slidesNumber - 1; // -1 cause our first element has index [0]
            }
            setPosition();
        }

        // set slides list position
        function setPosition() {
            var offset = currentSlide * slidesWidth * -1 + 'px';
            jQuery(slidesList).animate({
                marginLeft: offset,
            }, 500, function() {
                setActiveClass();
            });
            slidesList.style.marginLeft = offset;
        }

        // set active class for slide element
        function setActiveClass() {
            // reset all active classes
            for (item of slideItems) {
                item.classList.remove('active');
            }

            // set active class
            slideItems[currentSlide].classList.add('active');
        }

        function autoSlide() {
            setTimeout(slideLeft(), 3000);
        }

        function delay() {
            jQuery(document).ready(function () {
                jQuery('.content').hide();
                jQuery('.content').delay(2000).fadeIn(500);
            });
        }

        // adding buttons event handlers
        slideGallery.querySelector('.arrows .right').addEventListener("click", function (event) {
            console.log("prawo");
            event.preventDefault();
            slideLeft();
        });
        slideGallery.querySelector('.arrows .left').addEventListener("click", function (event) {
            console.log("lewo");
            event.preventDefault();
            slideRight();
        });
    }

    window.onload = function () {
        // slide gallery
        slideGallery();
    };
</script>
</body>

</html>